(this["webpackJsonpn7-medicalinventory-fullstack-eta-1-7"]=this["webpackJsonpn7-medicalinventory-fullstack-eta-1-7"]||[]).push([[0],{351:function(e,t,c){"use strict";c(0);var a=c(413),r=c(9),n=(c(405),c(1));t.a=function(e){var t=e.actions;Object(r.f)();return Object(n.jsxs)("div",{className:"empty-state-wrapper",children:[Object(n.jsx)("p",{children:Object(n.jsx)(a.a,{size:100})}),Object(n.jsx)("p",{children:Object(n.jsx)("h4",{children:"No data found!"})}),Object(n.jsx)("p",{children:t})]})}},372:function(e,t){},374:function(e,t){},404:function(e,t,c){},405:function(e,t,c){},406:function(e,t,c){},408:function(e,t,c){},414:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(8),n=c(0),i=c(419),s=c(67),l=c(417),d=c(66),o=c(82),j=c(418),u=c(416),b=(c(406),c(15)),h=c(9),m=c(120),p=c(351),O=c(64),x=c(16),f=c.n(x),v=c(106),g=c(1),y=[{label:"Relevance",value:"relevance"},{label:"Price: Low to High",value:"lowToHigh"},{label:"Price: High to Low",value:"highToLow"}],_=[{label:"StayHappi",value:"StayHappi"},{label:"Dolo",value:"Dolo"},{label:"Crocin",value:"Crocin"},{label:"Alkem",value:"Alkem"},{label:"Metacin",value:"Metacin"}],N=[{label:"Tablet",value:"Tablet"},{label:"Syrup",value:"Syrup"},{label:"Drop",value:"Drop"},{label:"Injection",value:"Injection"},{label:"Capsule",value:"Capsule"}],k=[{label:"Required",value:"true"},{label:"Not Required",value:"false"}],q=[{label:"All",value:"All"},{label:"Child",value:"Child"}];t.default=function(e){var t=e.location,c=e.setToken,x=Object(h.f)(),w=Object(b.b)(),S=new URLSearchParams(t.search).get("searchQuery"),C=Object(n.useState)(!1),R=Object(r.a)(C,2),T=R[0],D=R[1],A=Object(n.useState)("Relevance"),B=Object(r.a)(A,2),I=B[0],M=B[1],P=Object(n.useState)(null),H=Object(r.a)(P,2),F=H[0],L=H[1],z=Object(n.useState)({medicine_brand:[],product_form:[],presecription_required:[],age:[]}),E=Object(r.a)(z,2),K=E[0],J=E[1];Object(n.useEffect)((function(){var e=new URLSearchParams(t.search);e.get("asc")&&("true"===e.get("asc")?M("Price: Low to High"):M("Price: High to Low"));var c=Object.fromEntries(e.entries()),r=Object(a.a)({},K);r.medicine_brand=c&&c.medicine_brand?c.medicine_brand.split(","):[],r.product_form=c&&c.product_form?c.product_form.split(","):[],r.presecription_required=c&&c.presecription_required?c.presecription_required.split(","):[],r.age=c&&c.age?c.age.split(","):[],J(r)}),[]),Object(n.useEffect)((function(){var e=new URLSearchParams(t.search);"Relevance"!==I?(e.get("asc")&&e.delete("asc"),e.append("asc","Price: Low to High"===I?"true":"false"),w(Object(O.b)(e)),x.push("/search?".concat(e))):(e.get("asc")&&e.delete("asc"),w(Object(O.b)(e)),x.push("/search?".concat(e)))}),[I]),Object(n.useEffect)((function(){if(K.medicine_brand.length>0||K.product_form.length>0||K.presecription_required>0||K.age.length>0){var e=new URLSearchParams(t.search),c=Object(a.a)({},K);c.medicine_brand=c.medicine_brand.toString(),c.product_form=c.product_form.toString(),c.presecription_required=c.presecription_required.toString(),c.age=c.age.toString(),Object.keys(c).forEach((function(t){c[t]&&(e.get(t)&&e.delete(t),e.append(t,c[t]))})),w(Object(O.b)(e)),x.push("/search?".concat(e))}}),[K]);var U=Object(b.c)((function(e){return e.search}));return"failed"===U.status?Object(g.jsx)(g.Fragment,{children:"Error"}):"success"===U.status||"loading"===U.status?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v.a,{setToken:c}),Object(g.jsxs)("div",{className:"search-page-wrapper",children:[Object(g.jsxs)("div",{className:"search-page--left-panel",children:[Object(g.jsxs)("div",{className:"m-b-12 clear-filter-wrapper",children:[Object(g.jsx)("h4",{children:"Filters"}),Object(g.jsx)("span",{className:"clear-filter",onClick:function(){return function(){var e=new URLSearchParams(t.search);e.delete("medicine_brand"),e.delete("product_form"),e.delete("presecription_required"),e.delete("age"),w(Object(O.b)(e)),x.push("/search?".concat(e)),J({medicine_brand:[],product_form:[],presecription_required:[],age:[]})}()},children:"Clear Filters"})]}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Brands"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:_.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.medicine_brand.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.medicine_brand;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{medicine_brand:t}))}else if(-1!==K.medicine_brand.indexOf(e.target.name)){var c=K.medicine_brand;c.splice(K.medicine_brand.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{medicine_brand:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Product Form"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:N.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.product_form.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.product_form;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{product_form:t}))}else if(-1!==K.product_form.indexOf(e.target.name)){var c=K.product_form;c.splice(K.product_form.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{product_form:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Prescription Required"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:k.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.presecription_required.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.presecription_required;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{presecription_required:t}))}else if(-1!==K.presecription_required.indexOf(e.target.name)){var c=K.presecription_required;c.splice(K.presecription_required.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{presecription_required:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Age"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:q.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.age.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.age;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{age:t}))}else if(-1!==K.age.indexOf(e.target.name)){var c=K.age;c.splice(K.age.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{age:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})})]}),Object(g.jsxs)("div",{className:"search-page--right-panel",children:[Object(g.jsxs)("div",{className:"search-page--header",children:[Object(g.jsxs)("div",{className:"flex-column",children:[Object(g.jsx)("span",{className:"font-size-14",children:"Search Results"}),Object(g.jsxs)("span",{className:"font-size-26",children:['"',S,'"']})]}),Object(g.jsxs)("div",{className:"flex-items-center",children:[Object(g.jsx)("span",{children:"Sort By"}),Object(g.jsx)("span",{children:Object(g.jsxs)(l.a,{className:"dropdown-wrapper",onSelect:function(e){M(e)},children:[Object(g.jsx)(l.a.Toggle,{variant:"white",id:"dropdown-basic",children:I}),Object(g.jsx)(l.a.Menu,{children:y.map((function(e){return Object(g.jsx)(l.a.Item,{eventKey:e.label,children:e.label},e.value)}))})]})})]})]}),Object(g.jsx)("div",{className:"margin-top-12",children:"loading"===U.status?Object(g.jsx)("div",{children:Object(g.jsx)(m.a,{inline:!0})}):Object(g.jsx)(g.Fragment,{children:U&&U.searchedData&&U.searchedData.length?Object(g.jsx)(g.Fragment,{children:U.searchedData.map((function(e,t){return Object(g.jsx)(d.a,{className:"m-b-12",children:Object(g.jsx)(d.a.Body,{children:Object(g.jsxs)("div",{className:"flex-column",children:[Object(g.jsxs)("div",{className:"flex-content-sb",children:[Object(g.jsx)("div",{className:"flex-column",children:Object(g.jsx)("span",{className:"font-weight-700",children:null===e||void 0===e?void 0:e.name})}),Object(g.jsx)("div",{className:"flex-column",children:Object(g.jsxs)("span",{children:["\u20b9",(null===e||void 0===e?void 0:e.sell_price)||0]})})]}),Object(g.jsxs)("div",{className:"search-page--counter-wrapper",children:[Object(g.jsx)("div",{className:"search-page-wrapper"}),Object(g.jsxs)("div",{id:"addToCartWrapper",style:{display:"flex"},children:[F===t&&Object(g.jsx)("div",{className:"search-page--add-cart",children:"\u2713"}),"\xa0",F!==t?Object(g.jsx)("div",{className:"search-page--add-cart",onClick:function(){!function(e,t){var c=function(e,t){if(0==t.length)return e.count=1,t.push(e),t;for(var c,a=!1,r=0;r<t.length;r++)t[r].id===e.id&&(c=r,a=!0);return a?(t[c].count=t[c].count+1,t):(e.count=1,t.push(e),t)}(Object(a.a)({},e),JSON.parse(f.a.get("cartData"))||[]);f.a.set("cartData",JSON.stringify(c)),L(t),setTimeout((function(){L(null)}),1e3)}(e,t)},children:"ADD TO CART"}):Object(g.jsx)(g.Fragment,{children:F===t&&Object(g.jsx)("div",{id:"addToCart",className:"search-page--add-cart",children:"ADDED"})})]})]})]})})},e.id)}))}):Object(g.jsx)(p.a,{})})})]}),Object(g.jsx)("div",{className:"filter-button",children:Object(g.jsx)(o.a,{onClick:function(){return D(!0)},className:"funner-filter--wrapper",children:Object(g.jsx)(u.a,{size:30,color:"#28b8b0",className:"mr-20 cursor-pointer"})})}),Object(g.jsxs)(j.a,{show:T,fullscreen:!0,onHide:function(){return D(!1)},children:[Object(g.jsx)(j.a.Header,{closeButton:!0,children:Object(g.jsx)(j.a.Title,{children:"Apply Filters"})}),Object(g.jsx)(j.a.Body,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Brands"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:_.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.medicine_brand.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.medicine_brand;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{medicine_brand:t}))}else if(-1!==K.medicine_brand.indexOf(e.target.name)){var c=K.medicine_brand;c.splice(K.medicine_brand.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{medicine_brand:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Product Form"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:N.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.product_form.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.product_form;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{product_form:t}))}else if(-1!==K.product_form.indexOf(e.target.name)){var c=K.product_form;c.splice(K.product_form.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{product_form:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Prescription Required"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:k.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.presecription_required.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.presecription_required;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{presecription_required:t}))}else if(-1!==K.presecription_required.indexOf(e.target.name)){var c=K.presecription_required;c.splice(K.presecription_required.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{presecription_required:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)(i.a,{flush:!0,className:"m-b-12",children:Object(g.jsxs)(i.a.Item,{eventKey:"1",children:[Object(g.jsx)(i.a.Header,{children:"Age"}),Object(g.jsx)(i.a.Body,{className:"accordion-body",children:q.map((function(e){return Object(g.jsx)(s.a.Check,{type:"checkbox",name:e.value,checked:-1!==K.age.indexOf(e.value),onChange:function(e){if(e.target.checked){var t=K.age;t.push(e.target.name),J(Object(a.a)(Object(a.a)({},K),{},{age:t}))}else if(-1!==K.age.indexOf(e.target.name)){var c=K.age;c.splice(K.age.indexOf(e.target.name),1),J(Object(a.a)(Object(a.a)({},K),{},{age:c}))}},label:e.label,style:{cursor:"pointer"}},e.value)}))})]})}),Object(g.jsx)("div",{className:"filter-apply-button",children:Object(g.jsx)("div",{className:"d-grid gap-2",children:Object(g.jsx)(o.a,{size:"lg",className:"apply-button--wrapper",onClick:function(){return D(!1)},children:"Apply"})})})]})})]})]})]}):void 0}},420:function(e,t,c){"use strict";c.r(t);var a=c(8),r=c(0),n=c(66),i=c(422),s=c(423),l=c(12),d=c.n(l),o=c(21),j=c(318),u=c(322),b=c(163),h=c(82),m=c(51),p=c(46),O=c(57),x=c(69),f=c.n(x),v=c(25),g=c(29),y=c(15),_=c(16),N=c.n(_),k=c(1),q=function(){var e=Object(y.c)(g.d),t=function(){var e=Object(o.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{Authorization:"Token ".concat(N.a.get("token"))}},e.next=3,f.a.post("https://abdulrashidalaskar.pythonanywhere.com/api/medicine/",t,c).then((function(e){v.b.success("Medicine added successfully")})).catch((function(e){v.b.error(e.message||"Something went wrong!")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=p.c({name:p.d().required("Required*"),company:p.d().required("Required*"),medical_typ:p.d().required("Required*"),manufacture:p.d().required("Required*"),qty_in_strip:p.b().required("Required*").positive().integer(),in_stock_total:p.b().required("Required*").positive().integer(),free_strip:p.b().required("Required*").positive().integer(),description:p.d().required("Required*"),shelf_no:p.d().required("Required*"),batch_no:p.d().required("Required*"),s_gst:p.d().required("Required*"),c_gst:p.d().required("Required*"),sell_price:p.b().required("Required*").positive().integer(),buy_price:p.b().required("Required*").positive().integer(),medicine_tags:p.d().required("Required*"),expire_date:p.a().required("Required*"),mfg_date:p.a().required("Required*"),category:p.d().required("Required*"),unit_of_measure:p.d().required("Required*"),buyer:p.d().required("Required*")});return Object(k.jsx)(O.c,{validationSchema:c,initialValues:{name:"",company:e,manufacture:"",qty_in_strip:"",in_stock_total:"",free_strip:"",description:"",shelf_no:"",batch_no:"",s_gst:"",c_gst:"",sell_price:"",buy_price:"",medicine_tags:"",expire_date:"",mfg_date:"",category:"",unit_of_measure:"",buyer:""},onSubmit:function(e){t(e)},children:function(t){return Object(k.jsx)("div",{children:Object(k.jsx)(O.b,{children:Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{label:"Medicine Name",name:"name",type:"text"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{label:"Company Name",name:"company",value:e,disabled:!0,type:"text"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"manufacture",label:"Manufacturer Name"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"number",name:"qty_in_strip",label:"Quantity In Strip"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"category",label:"Category"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"buyer",label:"Buyer"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"medical_typ",label:"Medical Type"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"number",name:"in_stock_total",label:"In Stock Total"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"number",name:"free_strip",label:"Free Strip"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"description",label:"Description"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"shelf_no",label:"Shelf Number"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"batch_no",label:"Batch Number"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"s_gst",label:"SGST"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"c_gst",label:"CGST"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"number",name:"sell_price",label:"Sell Price"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"number",name:"buy_price",label:"Buy Price"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"medicine_tags",label:"Medicine Tags"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"text",name:"unit_of_measure",label:"Unit of Measure"})})]}),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"date",name:"expire_date",label:"Expiry Date"})}),Object(k.jsx)(b.a,{md:6,children:Object(k.jsx)(m.a,{type:"date",name:"mfg_date",label:"Manufacturing Date"})})]}),Object(k.jsx)(u.a,{children:Object(k.jsxs)("div",{className:"d-grid gap-2",children:[Object(k.jsx)(h.a,{type:"submit",style:{border:"none",backgroundColor:"#28b8b0"},disabled:!(t.isValid&&t.dirty),children:"Submit"}),Object(k.jsx)(h.a,{type:"submit",variant:"outline-secondary",children:"Cancel"})]})})]})})})}})},w=c(67),S=c(319),C=c(106),R=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)(""),s=Object(a.a)(i,2),l=s[0],d=s[1],o=Object(r.useState)(""),x=Object(a.a)(o,2),g=x[0],y=x[1],_=Object(r.useState)(""),q=Object(a.a)(_,2),C=q[0],R=q[1],T=p.c({in_stock_total:p.b().required("Required*").positive().integer(),free_strip:p.b().required("Required*").positive().integer()});return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.a,{children:Object(k.jsx)(u.a,{children:Object(k.jsx)(b.a,{children:Object(k.jsx)(w.a,{style:{display:"flex"},onSubmit:function(e){e.preventDefault()},children:Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)(w.a.Control,{placeholder:"Search..",type:"text",name:"searchbox",value:c,className:"header-form-control",onChange:function(e){n(e.target.value)}}),Object(k.jsx)(h.a,{type:"submit",disabled:!c,style:{border:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:"#28b8b0"},onClick:function(){!function(){var e={headers:{Authorization:"Token ".concat(N.a.get("token"))}};f.a.get("https://abdulrashidalaskar.pythonanywhere.com/search?searchQuery=".concat(c),e).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))}()},children:Object(k.jsx)(S.a,{size:25})})]}),l&&l.length&&Object(k.jsx)("div",{className:"search-selector-wrapper",children:l&&l.length&&l.map((function(e){return Object(k.jsx)(u.a,{children:Object(k.jsx)(b.a,{md:12,children:Object(k.jsx)("div",{onClick:function(){y(e.name),R(e.id)},className:"header-form-control form-control",children:e.name})})})}))})]})})})})}),Object(k.jsx)("br",{}),Object(k.jsx)(O.c,{validationSchema:T,initialValues:{in_stock_total:"",free_strip:""},onSubmit:function(e){console.log(e),function(e){var t={headers:{"Content-Type":"application/json",Authorization:"Token ".concat(N.a.get("token"))}};f.a.patch("https://abdulrashidalaskar.pythonanywhere.com/api/medicine/".concat(C,"/"),e,t).then((function(e){v.b.success("Medicine updated successfully")})).catch((function(e){v.b.error(e.message||"Something went wrong!")}))}(e)},children:function(e){return Object(k.jsx)("div",{children:Object(k.jsx)(O.b,{children:Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(u.a,{children:[Object(k.jsx)(b.a,{md:4,children:Object(k.jsx)(m.a,{label:"Medicine Name",value:g,name:"name",type:"text"})}),Object(k.jsx)(b.a,{md:4,children:Object(k.jsx)(m.a,{type:"number",name:"in_stock_total",label:"In Stock Total"})}),Object(k.jsx)(b.a,{md:4,children:Object(k.jsx)(m.a,{type:"number",name:"free_strip",label:"Free strip"})})]}),Object(k.jsx)(u.a,{children:Object(k.jsxs)("div",{className:"d-grid gap-2",children:[Object(k.jsx)(h.a,{type:"submit",style:{border:"none",backgroundColor:"#28b8b0"},disabled:!(e.isValid&&e.dirty),children:"Submit"}),Object(k.jsx)(h.a,{type:"submit",variant:"outline-secondary",children:"Cancel"})]})})]})})})}})]})};c(408),t.default=function(e){var t=e.setToken,c=Object(r.useState)("addMedicine"),l=Object(a.a)(c,2),d=l[0],o=l[1];return Object(k.jsxs)("div",{className:"medicine-wrapper",children:[Object(k.jsx)(C.a,{setToken:t}),Object(k.jsx)(n.a,{children:Object(k.jsx)(n.a.Body,{children:Object(k.jsxs)(i.a,{activeKey:d,onSelect:function(e){return o(e)},className:"mb-3",children:[Object(k.jsx)(s.a,{eventKey:"addMedicine",title:"Add Medicine",children:Object(k.jsx)(q,{})}),Object(k.jsx)(s.a,{eventKey:"updateMedicine",title:"Update Medicine",children:Object(k.jsx)(R,{})})]})})})]})}},421:function(e,t,c){"use strict";c.r(t);var a=c(12),r=c.n(a),n=c(2),i=c(21),s=c(8),l=c(0),d=c(66),o=c(82),j=c(361),u=c.n(j),b=(c(404),c(16)),h=c.n(b),m=c(351),p=(c(37),c(69)),O=c.n(p),x=c(120),f=c(25),v=c(9),g=c(106),y=c(1);t.default=function(e){var t=e.setToken,c=Object(l.useState)([]),a=Object(s.a)(c,2),j=a[0],b=a[1],p=Object(l.useState)(0),_=Object(s.a)(p,2),N=_[0],k=_[1],q=Object(l.useState)([]),w=Object(s.a)(q,2),S=w[0],C=w[1],R=Object(l.useState)(!1),T=Object(s.a)(R,2),D=T[0],A=T[1];Object(v.f)();Object(l.useEffect)((function(){var e=JSON.parse(h.a.get("cartData"));e&&e.length>0&&b(e)}),[]),Object(l.useEffect)((function(){var e=0;j.map((function(t){e+=t.count*t.sell_price})),k(e);for(var t=[],c=0;c<j.length;c++)t.push({quantity:j[c].count,description:j[c].name,tax:12,price:j[c].sell_price*j[c].count});C(t)}),[j]);var B=function(){!function(e,t,c,a,r,n,i){var s={currency:"INR",locale:"en-IN",taxNotation:"GST",marginTop:25,marginRight:25,marginLeft:25,marginBottom:25,logo:e,sender:t,client:c,invoiceNumber:a,invoiceDate:r,products:n,bottomNotice:i};u.a.createInvoice(s,(function(e){return u.a.download("myInvoice.pdf",e.pdf)}))}("https://www.logomoose.com/wp-content/uploads/2013/08/ms_moose.jpg",{company:"Sample Corp",address:"Sample Street 123",zip:"1234 AB",city:"Sampletown",country:"Samplecountry"},{company:"Client Corp",address:"Clientstreet 456",zip:"4567 CD",city:"Clientcity",country:"Clientcountry"},"2021.0001",function(){var e=new Date;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()}(),S,"Please visit again. Thank you."),A(!1),b([]),h.a.remove("cartData")},I=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=Object(n.a)({},t)).count>1)){e.next=12;break}return c.count=c.count-1,a=j.filter((function(e){return e.id!==t.id})),e.next=6,a.push(c);case 6:return e.next=8,b(a);case 8:return e.next=10,h.a.remove("cartData");case 10:return e.next=12,h.a.set("cartData",JSON.stringify(a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Object(n.a)({},t)).count=c.count+1,a=j.filter((function(e){return e.id!==t.id})),e.next=5,a.push(c);case 5:return e.next=7,b(a);case 7:return e.next=9,h.a.remove("cartData");case 9:return e.next=11,h.a.set("cartData",JSON.stringify(a));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.parse(h.a.get("cartData")),a=c.filter((function(e){return e.id!==t.id})),b(a),e.next=5,h.a.remove("cartData");case 5:return e.next=7,h.a.set("cartData",JSON.stringify(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g.a,{setToken:t}),Object(y.jsx)("div",{className:"checkout-page-wrapper",children:D?Object(y.jsx)(x.a,{}):Object(y.jsx)(y.Fragment,{children:j&&j.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"order-summary-wrapper",children:"Order Summary"}),Object(y.jsx)("div",{className:"products-wrapper",children:"PRODUCTS"}),Object(y.jsxs)("div",{className:"checkout-page-content-wrapper",children:[Object(y.jsx)("div",{className:"flex-1",children:Object(y.jsx)(d.a,{className:"margin-bottom-12",children:Object(y.jsx)(d.a.Body,{children:j.map((function(e){return Object(y.jsxs)("section",{className:"medicine-card-wrapper",children:[Object(y.jsxs)("div",{className:"flex-content-sb",children:[Object(y.jsx)("div",{className:"flex-column",children:Object(y.jsx)("span",{className:"font-weight-700",children:e.name})}),Object(y.jsxs)("div",{className:"checkout-price",children:["Rs. ",e.sell_price*Number(e.count)]})]}),Object(y.jsxs)("div",{className:"checkout-page--counter-wrapper",children:[Object(y.jsxs)("div",{className:"checkout-counter--wrapper",children:[Object(y.jsx)("div",{className:"increment-decrement-counter-wrapper",onClick:function(){I(e)},children:"-"}),"\xa0",Object(y.jsx)("div",{className:"checkout-page--counter-value",children:e.count}),"\xa0",Object(y.jsx)("div",{className:"increment-decrement-counter-wrapper",onClick:function(){M(e)},children:"+"})]}),Object(y.jsx)("div",{children:Object(y.jsx)(o.a,{variant:"secondary",size:"sm",onClick:function(){P(e)},children:"Remove"})})]})]})}))})})}),Object(y.jsx)("div",{className:"checkout-payment-details",children:Object(y.jsx)(d.a,{children:Object(y.jsxs)(d.a.Body,{children:[Object(y.jsx)("div",{className:"opacity-6",children:"PAYMENT DETAILS"}),Object(y.jsxs)("div",{className:"total-amount",children:[Object(y.jsx)("div",{children:"Total Amount *"}),Object(y.jsxs)("div",{children:["Rs. ",N]})]}),Object(y.jsxs)("div",{className:"total-amoount-wrapper",children:[Object(y.jsxs)("div",{className:"flex-column",children:[Object(y.jsx)("div",{className:"total-amount-wrapper",children:"TOTAL AMOUNT"}),Object(y.jsxs)("div",{className:"font-weight-bold",children:["Rs. ",N]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(o.a,{className:"checkout-proceed-button",onClick:function(){!function(){A(!0);for(var e=[],t=0;t<j.length;t++)e.push({id:j[t].id,qty:j[t].count});var c={headers:{Authorization:"Token ".concat(h.a.get("token"))}};O.a.post("https://abdulrashidalaskar.pythonanywhere.com/api/order/",{medicines:e},c).then((function(e){B(),f.b.success("Order Place "),console.log(e)})).catch((function(e){f.b.error("Medicine out of stock!"),A(!1),console.log(e)}))}()},children:"DOWNLOAD INVOICE"})})]})]})})})]})]}):Object(y.jsx)(m.a,{actions:Object(y.jsx)("h5",{className:"empty-state-cart",children:"Please add a medicine to cart"})})})})]})}}}]);
//# sourceMappingURL=checkout.0930cd7b.chunk.js.map